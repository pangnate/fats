module.exports = function (source, callback) {

	var stylus = require('stylus');
	try {
		stylus.render(source, {}, function (err, content) {
			if (err && callback) {
				callback.apply(this, [err]);
			}
			if (callback) {
				callback.apply(this, [err, content]);
			}
		});
	} catch (err) {
		if (err && callback) {
			callback.apply(this, [err]);
		}
	}

};